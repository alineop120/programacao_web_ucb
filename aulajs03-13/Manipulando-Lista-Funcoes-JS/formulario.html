<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/estilo.css">
    <title>Formulário</title>
</head>

<body>
    <h1>Finalizando Venda</h1>
    <div class="formulario">
        <form action="" method="post">
            <label for="nomeVendedor">Nome Vendedor: </label>
            <input type="text" name="nomeVendedor" id="nomeVendedor">
            <br>
            <label for="valorVenda">Valor da Venda: </label>
            <input type="text" name="valorVenda" id="valorVenda">
            <br>
            <button type="button" onclick="cadastrar()">Cadastrar</button>
            <button onclick="limpar()">Limpar</button>
            <button onclick="removerAnterior()">Remover</button>
        </form>
    </div>
    <div id="res"></div>

    <script>
        let res = document.getElementById("res");
        let nomeVendedor = document.getElementById("nomeVendedor");
        let valorVenda = document.getElementById("valorVenda");
        let vendedor = [];
        let venda = [];
        let desconto = [];

        function cadastrar() {
            if (nomeVendedor.value == "" || valorVenda.value == "") {
                window.alert("Erro!!! Nome do vendedor ou Valor não foram preenchidos");
            } else {
                desconto.push(Number(valorVenda.value) * 0.1);
                vendedor.push(nomeVendedor.value);
                venda.push(Number(valorVenda.value));
                res.innerHTML = "";
                res.innerHTML += "<p>Id</p><p>Nome Vendedor</p><p>Valor</p> <p>Desconto</p>";
                for (i = 0; i < vendedor.length; i++) {
                    let o = i + 1;
                    res.innerHTML +=
                        `<p>${o}</p><p>${vendedor[i]}</p><p>R$${venda[i].toFixed(2)}</p><p>R$${desconto[i].toFixed(2)}</p>`;
                }
                nomeVendedor.value = '';
                valorVenda.value = '';
                event.preventDefault();
            }
        }

        function limpar() {
            res.innerHTML = "";
            vendedor = [];
            venda = [];
            desconto = [];
            event.preventDefault();
        }

        function removerAnterior() {
            desconto.pop();
            vendedor.pop();
            venda.pop();
            res.innerHTML = "";
            res.innerHTML += "<p>Id</p><p>Nome Vendedor</p><p>Valor</p><p> Desconto</p>";
            for (i = 0; i < vendedor.length; i++) {
                let o = i + 1;
                res.innerHTML += `<p>${o}</p><p>${vendedor[i]}</p><p>R$${venda[i].toFixed(2)}</p><p>R$${desconto[i].toFixed(2)}</p>`;
            }
            event.preventDefault();
        }
    </script>

</body>

</html>